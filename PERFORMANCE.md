# ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð»Ñ ÑÐ»Ð°Ð±Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² (Termux, Raspberry Pi Zero)

## ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: Ð¢Ð¾Ñ€Ð¼Ð¾Ð·Ð¸Ñ‚ Ð¿Ñ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ

### Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ:

#### 1. ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ debug Ñ€ÐµÐ¶Ð¸Ð¼ (ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž Ð´Ð»Ñ Termux!)
```bash
# Ð’Ð¼ÐµÑÑ‚Ð¾:
python app.py

# Ð—Ð°Ð¿ÑƒÑÐºÐ°Ð¹ Ñ‚Ð°Ðº (production mode):
python app.py
# Debug ÑƒÐ¶Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ñ‘Ð½ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ
```

#### 2. Ð£Ð¼ÐµÐ½ÑŒÑˆÐ¸Ñ‚ÑŒ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ñ… Ñ„Ð¾Ñ‚Ð¾
Ð’ `app.py` ÑƒÐ¶Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ñ 20 Ð´Ð¾ 10 Ñ„Ð¾Ñ‚Ð¾

#### 3. ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð¾Ð²
Ð£Ð¼ÐµÐ½ÑŒÑˆÐµÐ½Ð¾ Ñ 500MB Ð´Ð¾ 100MB

#### 4. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²ÐµÑ€

**Ð”Ð»Ñ Termux ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸ Gunicorn:**
```bash
source .venv/bin/activate
pip install gunicorn

# Ð—Ð°Ð¿ÑƒÑÐº Ñ Gunicorn (ÐÐÐœÐÐžÐ“Ðž Ð‘Ð«Ð¡Ð¢Ð Ð•Ð•!)
gunicorn -w 2 -b 0.0.0.0:3000 app:app
```

**ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- `-w 2` = 2 worker Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ° (Ð´Ð»Ñ quad-core Ð¼Ð¾Ð¶Ð½Ð¾ -w 4)
- `-b 0.0.0.0:3000` = Ð°Ð´Ñ€ÐµÑ Ð¸ Ð¿Ð¾Ñ€Ñ‚
- `--timeout 120` = Ñ‚Ð°Ð¹Ð¼Ð°ÑƒÑ‚ 2 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹ (Ð´Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð²)

**ÐŸÐ¾Ð»Ð½Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð´Ð»Ñ Termux:**
```bash
gunicorn -w 2 -b 0.0.0.0:3000 --timeout 120 app:app
```

#### 5. ÐÐµ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°Ñ‚ÑŒ Ð²ÑÑŽ Ð¿Ð°Ð¿ÐºÑƒ ÑÑ€Ð°Ð·Ñƒ

Ð•ÑÐ»Ð¸ Ð² storage Ð¼Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð¾Ð² (Ñ‚Ñ‹ÑÑÑ‡Ð¸), Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð±ÑƒÐ´ÐµÑ‚ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾Ð¹.

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:**
- ÐžÑ€Ð³Ð°Ð½Ð¸Ð·ÑƒÐ¹ Ñ„Ð°Ð¹Ð»Ñ‹ Ð¿Ð¾ Ð¿Ð°Ð¿ÐºÐ°Ð¼
- ÐÐ° Ð³Ð»Ð°Ð²Ð½Ð¾Ð¹ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ 10 ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ñ… Ñ„Ð¾Ñ‚Ð¾
- ÐžÑÑ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ Ñ‡ÐµÑ€ÐµÐ· Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸ÑŽ Ð¿Ð¾ Ð¿Ð°Ð¿ÐºÐ°Ð¼

#### 6. ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ EXIF Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÑƒ (ÐµÑÐ»Ð¸ Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð° Ð°Ð²Ñ‚Ð¾-ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ°)

Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹ `app.py`, Ð½Ð°Ð¹Ð´Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ `get_exif_date` Ð¸ Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹:
```python
def get_exif_date(file_path):
    """ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð´Ð°Ñ‚Ñƒ Ð¸Ð· EXIF Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ"""
    return None  # ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ Ð´Ð»Ñ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚Ð¸
    # try:
    #     image = Image.open(file_path)
    #     ...
```

## Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Termux Ð½Ð° Redmi 14C

### ÐžÐ¿Ñ‚Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ:

```bash
# 1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Gunicorn
pip install gunicorn

# 2. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð·Ð°Ð¿ÑƒÑÐºÐ°
cat > ~/cloud/start-fast.sh << 'EOF'
#!/data/data/com.termux/files/usr/bin/bash
cd ~/cloud
source .venv/bin/activate
termux-wake-lock
echo "ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº Ñ Gunicorn (Ð±Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼)..."
gunicorn -w 4 -b 0.0.0.0:3000 --timeout 120 --access-logfile - app:app
EOF

chmod +x ~/cloud/start-fast.sh

# 3. Ð—Ð°Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· ÑÑ‚Ð¾Ñ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚
~/cloud/start-fast.sh
```

### Ð”Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð·Ð°Ð¿ÑƒÑÐºÐ° Ñ Gunicorn:

```bash
cat > ~/.termux/boot/start-cloud.sh << 'EOF'
#!/data/data/com.termux/files/usr/bin/bash
termux-wake-lock
cd ~/cloud
source .venv/bin/activate
gunicorn -w 4 -b 0.0.0.0:3000 --timeout 120 --daemon app:app
EOF

chmod +x ~/.termux/boot/start-cloud.sh
```

## Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸

| Ð ÐµÐ¶Ð¸Ð¼ | Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð·Ð°Ð¿ÑƒÑÐºÐ° | RAM | CPU |
|-------|-----------------|-----|-----|
| Flask debug | ðŸŒ ÐœÐµÐ´Ð»ÐµÐ½Ð½Ð¾ | 200MB | Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ |
| Flask production | âš¡ Ð¡Ñ€ÐµÐ´Ð½Ðµ | 150MB | Ð¡Ñ€ÐµÐ´Ð½ÑÑ |
| Gunicorn (2 workers) | ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ð¾ | 180MB | ÐÐ¸Ð·ÐºÐ°Ñ |
| Gunicorn (4 workers) | ðŸš€ðŸš€ ÐžÑ‡ÐµÐ½ÑŒ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ | 250MB | ÐÐ¸Ð·ÐºÐ°Ñ |

## Ð§Ñ‚Ð¾ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ñ‚Ð¾Ñ€Ð¼Ð¾Ð·Ð¸Ñ‚?

1. **Debug mode Flask** - Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ ÐºÐ¾Ð´ Ð¿Ñ€Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¼ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸
2. **Ð‘Ð¾Ð»ÑŒÑˆÐ¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ„Ð°Ð¹Ð»Ð¾Ð²** - ÑÐºÐ°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð°Ð¿Ð¾Ðº
3. **EXIF Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°** - Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð· Ñ„Ð¾Ñ‚Ð¾
4. **Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¿Ñ€ÐµÐ²ÑŒÑŽ** - Ñ€ÐµÑÐ°Ð¹Ð· Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹

## Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ð´Ð»Ñ Termux:

```bash
cd ~/cloud
source .venv/bin/activate

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Gunicorn (Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð·)
pip install gunicorn

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ (Ð‘Ð«Ð¡Ð¢Ð Ðž!)
gunicorn -w 4 -b 0.0.0.0:3000 --timeout 120 app:app
```

Ð­Ñ‚Ð¾ Ð´Ð¾Ð»Ð¶Ð½Ð¾ ÑƒÑÐºÐ¾Ñ€Ð¸Ñ‚ÑŒ Ð² 3-5 Ñ€Ð°Ð·! ðŸš€
